<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>NextVG OS</title>
<style>
* { box-sizing:border-box; user-select:none; }
html,body {
  margin:0; height:100%; width:100%;
  background:#050505;
  font-family:Segoe UI, system-ui;
  overflow:hidden;
}

#desktop {
  position:absolute;
  inset:0 0 48px 0;
  background:#070a10;
  background-size:cover;
  background-position:center;
}

.window {
  position:absolute;
  background:#0d1117;
  border:1px solid #1f2937;
  border-radius:10px;
  box-shadow:0 0 30px #000;
  overflow:hidden;
  resize:both;
  min-width:260px;
  min-height:180px;
}

.titlebar {
  height:38px;
  background:#0b0f15;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 10px;
  cursor:move;
  color:#cbd5e1;
  font-weight:500;
  border-bottom:1px solid #1f2937;
}

.controls button {
  width:28px;
  height:28px;
  margin-left:6px;
  border:none;
  border-radius:6px;
  background:#111827;
  color:#cbd5e1;
  cursor:pointer;
}
.controls button:hover {
  background:#1f2937;
}

.content {
  height:calc(100% - 38px);
  background:#020617;
}

iframe, textarea {
  width:100%; height:100%;
  border:none;
  background:#020617;
  color:white;
}

/* Taskbar */
#taskbar {
  position:absolute;
  bottom:0; left:0; right:0;
  height:48px;
  background:#05080f;
  border-top:1px solid #111827;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 12px;
}

#apps {
  display:flex;
  gap:14px;
  justify-content:center;
  flex:1;
}

.appicon {
  width:38px;
  height:38px;
  border-radius:10px;
  background:#0f172a;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#e2e8f0;
  font-size:13px;
  cursor:pointer;
  position:relative;
}
.appicon.open::after {
  content:"";
  position:absolute;
  bottom:2px;
  width:16px;
  height:3px;
  background:#3b82f6;
  border-radius:2px;
}

#clock {
  font-size:12px;
  color:#94a3b8;
  text-align:right;
  min-width:120px;
}

.noselect { user-select:none; }
</style>
</head>
<body>

<div id="desktop"></div>

<div id="taskbar">
  <div style="color:#334155;font-size:12px">NextVG OS</div>
  <div id="apps"></div>
  <div id="clock"></div>
</div>
<script>
(() => {
  let enabled = true;

  function handler(e) {
    if (!enabled) return;
    e.preventDefault();
    e.returnValue = "";
    return "";
  }

  window.addEventListener("beforeunload", handler);

  // Optional: expose a way to disable it if needed later
  window.__disableCloseProtection = () => {
    enabled = false;
  };
})();
</script>

<script src="main.js">
</script>

</body>
</html>
